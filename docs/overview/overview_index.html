<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Summary · ZIO logging</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="ZIO Logging is a functional, type-safe library for logging."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Summary · ZIO logging"/><meta property="og:type" content="website"/><meta property="og:url" content="https://zio.github.io/zio-logging/"/><meta property="og:description" content="ZIO Logging is a functional, type-safe library for logging."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/zio-logging/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100,"cornerOffset":100}
          )
        });
        </script><script src="/zio-logging/js/scrollSpy.js"></script><link rel="stylesheet" href="/zio-logging/css/main.css"/><script src="/zio-logging/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zio-logging/"><img class="logo" src="/zio-logging/img/navbar_brand2x.png" alt="ZIO logging"/><h2 class="headerTitleWithLogo">ZIO logging</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/zio-logging/docs/overview/overview_index" target="_self">Overview</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Overview</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/zio-logging/docs/overview/overview_index">Summary</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Summary</h1></header><article><div><span><p>ZIO Logging is a functional, type-safe library for logging.</p>
<h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p><code>ZIO-Logging</code> is available via maven repo so import in <code>build.sbt</code> is sufficient:</p>
<pre><code class="hljs css language-scala">libraryDependencies += <span class="hljs-string">"dev.zio"</span> %% <span class="hljs-string">"zio-logging"</span> % version
</code></pre>
<p>If you need <code>slf4j</code> integration use <code>zio-logging-slf4j</code> instead</p>
<pre><code class="hljs css language-scala">libraryDependencies += <span class="hljs-string">"dev.zio"</span> %% <span class="hljs-string">"zio-logging-slf4j"</span> % version
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="logger-interface"></a><a href="#logger-interface" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Logger Interface</h2>
<pre><code class="hljs css language-scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">LoggerLike</span>[-<span class="hljs-type">A</span>] </span>{ self =&gt;

  <span class="hljs-comment">/**
   * Produces a new logger by adapting a different input type to the input
   * type of this logger.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">contramap</span></span>[<span class="hljs-type">A1</span>](f: <span class="hljs-type">A1</span> =&gt; <span class="hljs-type">A</span>): <span class="hljs-type">LoggerLike</span>[<span class="hljs-type">A1</span>]
  
  <span class="hljs-comment">/**
   * Derives a new logger from this one, by applying the specified decorator
   * to the logger context.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">derive</span></span>(f: <span class="hljs-type">LogContext</span> =&gt; <span class="hljs-type">LogContext</span>): <span class="hljs-type">LoggerLike</span>[<span class="hljs-type">A</span>]

  <span class="hljs-comment">/**
   * Modifies the log context in the scope of the specified effect.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">locally</span></span>[<span class="hljs-type">R1</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>](f: <span class="hljs-type">LogContext</span> =&gt; <span class="hljs-type">LogContext</span>)(zio: <span class="hljs-type">ZIO</span>[<span class="hljs-type">R1</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>]): <span class="hljs-type">ZIO</span>[<span class="hljs-type">R1</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>]

  <span class="hljs-comment">/**
   * Modifies the log context with effect in the scope of the specified effect.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">locallyM</span></span>[<span class="hljs-type">R1</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>](f: <span class="hljs-type">LogContext</span> =&gt; <span class="hljs-type">URIO</span>[<span class="hljs-type">R1</span>, <span class="hljs-type">LogContext</span>])(zio: <span class="hljs-type">ZIO</span>[<span class="hljs-type">R1</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>]): <span class="hljs-type">ZIO</span>[<span class="hljs-type">R1</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>] 

  <span class="hljs-comment">/**
   * Modifies the annotate in the scope of the specified effect.
   */</span>
  <span class="hljs-keyword">final</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">locallyAnnotate</span></span>[<span class="hljs-type">B</span>, <span class="hljs-type">R</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>](annotation: <span class="hljs-type">LogAnnotation</span>[<span class="hljs-type">B</span>], value: <span class="hljs-type">B</span>)(zio: <span class="hljs-type">ZIO</span>[<span class="hljs-type">R</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>]): <span class="hljs-type">ZIO</span>[<span class="hljs-type">R</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>] 

  <span class="hljs-comment">/**
   * Logs the specified element using an inherited log level.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">log</span></span>(line: =&gt; <span class="hljs-type">A</span>): <span class="hljs-type">UIO</span>[<span class="hljs-type">Unit</span>]

  <span class="hljs-comment">/**
   * Retrieves the log context.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">logContext</span></span>: <span class="hljs-type">UIO</span>[<span class="hljs-type">LogContext</span>]

  <span class="hljs-comment">/**
   * Logs the specified element at the specified level. Implementations may
   * override this for greater efficiency.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">log</span></span>(level: <span class="hljs-type">LogLevel</span>)(line: =&gt; <span class="hljs-type">A</span>): <span class="hljs-type">UIO</span>[<span class="hljs-type">Unit</span>] 

  <span class="hljs-comment">/**
   * Produces a named logger.
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">named</span></span>(name: <span class="hljs-type">String</span>): <span class="hljs-type">LoggerLike</span>[<span class="hljs-type">A</span>] 
}
</code></pre>
<p>Library provides object <code>log</code> that exposes basic methods:</p>
<pre><code class="hljs css language-scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">log</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">apply</span></span>(line: =&gt; <span class="hljs-type">String</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    <span class="hljs-type">ZIO</span>.accessM[<span class="hljs-type">Logging</span>](_.get.logger.log(line))

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">apply</span></span>(level: <span class="hljs-type">LogLevel</span>)(line: =&gt; <span class="hljs-type">String</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    <span class="hljs-type">ZIO</span>.accessM[<span class="hljs-type">Logging</span>](_.get.logger.log(level)(line))

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">context</span></span>: <span class="hljs-type">URIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">LogContext</span>] =
    <span class="hljs-type">ZIO</span>.accessM[<span class="hljs-type">Logging</span>](_.get.logger.logContext)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">debug</span></span>(line: =&gt; <span class="hljs-type">String</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    log(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">Debug</span>)(line)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">error</span></span>(line: =&gt; <span class="hljs-type">String</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    log(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">Error</span>)(line)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">error</span></span>(line: =&gt; <span class="hljs-type">String</span>, cause: <span class="hljs-type">Cause</span>[<span class="hljs-type">Any</span>]): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    log(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">Error</span>)(line + <span class="hljs-type">System</span>.lineSeparator() + cause.prettyPrint)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">info</span></span>(line: =&gt; <span class="hljs-type">String</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    log(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">Info</span>)(line)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">locally</span></span>[<span class="hljs-type">A</span>, <span class="hljs-type">R</span> &lt;: <span class="hljs-type">Logging</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>](fn: <span class="hljs-type">LogContext</span> =&gt; <span class="hljs-type">LogContext</span>)(zio: <span class="hljs-type">ZIO</span>[<span class="hljs-type">R</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>]): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span> <span class="hljs-keyword">with</span> <span class="hljs-type">R</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>] =
    <span class="hljs-type">ZIO</span>.accessM(_.get.logger.locally(fn)(zio))

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">locallyM</span></span>[<span class="hljs-type">A</span>, <span class="hljs-type">R</span> &lt;: <span class="hljs-type">Logging</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>](
    fn: <span class="hljs-type">LogContext</span> =&gt; <span class="hljs-type">URIO</span>[<span class="hljs-type">R</span>, <span class="hljs-type">LogContext</span>]
  )(zio: <span class="hljs-type">ZIO</span>[<span class="hljs-type">R</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>]): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span> <span class="hljs-keyword">with</span> <span class="hljs-type">R</span>, <span class="hljs-type">E</span>, <span class="hljs-type">A1</span>] =
    <span class="hljs-type">ZIO</span>.accessM(_.get.logger.locallyM(fn)(zio))

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">logger</span></span>: <span class="hljs-type">URIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Logger</span>] =
    <span class="hljs-type">ZIO</span>.access[<span class="hljs-type">Logging</span>](_.get.logger)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">throwable</span></span>(line: =&gt; <span class="hljs-type">String</span>, t: <span class="hljs-type">Throwable</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    error(line, <span class="hljs-type">Cause</span>.die(t))

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">trace</span></span>(line: =&gt; <span class="hljs-type">String</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    log(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">Trace</span>)(line)

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">warn</span></span>(line: =&gt; <span class="hljs-type">String</span>): <span class="hljs-type">ZIO</span>[<span class="hljs-type">Logging</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Unit</span>] =
    log(<span class="hljs-type">LogLevel</span>.<span class="hljs-type">Warn</span>)(line)

}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="logger-context"></a><a href="#logger-context" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Logger Context</h3>
<p>Logger Context is mechanism that we use to carry information like logger name or correlation id across different Fibers. Implementation uses <code>FiberRef</code> from <code>ZIO</code>.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> zio.logging._
log.locally(<span class="hljs-type">LogAnnatation</span>.<span class="hljs-type">Name</span>(<span class="hljs-string">"my-logger"</span> :: <span class="hljs-type">Nil</span>)) {
  log.info(<span class="hljs-string">"log entry"</span>) <span class="hljs-comment">// value of LogAnnotation.Name is only visible in this block</span>
}
</code></pre>
<p>User of library is allowed to add custom <code>LogAnnatation</code></p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">val</span> customLogAnnotation = <span class="hljs-type">LogAnnatation</span>(<span class="hljs-string">"custom_annotation"</span>, <span class="hljs-number">1</span>, _ + _, _.toString)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="examples"></a><a href="#examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h2>
<h3><a class="anchor" aria-hidden="true" id="simple-console-log"></a><a href="#simple-console-log" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple console log</h3>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> zio.logging._

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Simple</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">zio</span>.<span class="hljs-title">App</span> </span>{

  <span class="hljs-keyword">val</span> env = 
    <span class="hljs-type">Logging</span>.console((_, logEntry) =&gt;
      logEntry
    )

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span></span>(args: <span class="hljs-type">List</span>[<span class="hljs-type">String</span>]) =
    env &gt;&gt;&gt; log(<span class="hljs-string">"Hello from ZIO logger"</span>).as(<span class="hljs-number">0</span>)
}

</code></pre>
<p>Expected console output:</p>
<pre><code class="hljs"><span class="hljs-number">2020</span><span class="hljs-number">-02</span><span class="hljs-number">-02</span>T18:<span class="hljs-number">09</span>:<span class="hljs-number">45.197</span><span class="hljs-number">-05</span>:<span class="hljs-number">00</span> INFO  Hello <span class="hljs-keyword">from</span> ZIO logger
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="logger-name-and-log-level"></a><a href="#logger-name-and-log-level" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Logger Name and Log Level</h3>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> zio.logging._

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">LogLevelAndLoggerName</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">zio</span>.<span class="hljs-title">App</span> </span>{

  <span class="hljs-keyword">val</span> env = 
    <span class="hljs-type">Logging</span>.console((_, logEntry) =&gt;
      logEntry
    )

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span></span>(args: <span class="hljs-type">List</span>[<span class="hljs-type">String</span>]) =
   env &gt;&gt;&gt; log.locally(<span class="hljs-type">LogAnnotation</span>.<span class="hljs-type">Name</span>(<span class="hljs-string">"logger-name-here"</span> :: <span class="hljs-type">Nil</span>)) { 
    log.debug(<span class="hljs-string">"Hello from ZIO logger"</span>)
   }.as(<span class="hljs-number">0</span>)
}
</code></pre>
<p>Expected console output:</p>
<pre><code class="hljs"><span class="hljs-number">2020</span><span class="hljs-number">-02</span><span class="hljs-number">-02</span>T18:<span class="hljs-number">22</span>:<span class="hljs-number">33.200</span><span class="hljs-number">-05</span>:<span class="hljs-number">00</span> DEBUG logger-name-here Hello <span class="hljs-keyword">from</span> ZIO logger
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="slf4j-and-correlation-id"></a><a href="#slf4j-and-correlation-id" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slf4j and correlation id</h3>
<pre><code class="hljs css language-scala">
<span class="hljs-keyword">import</span> zio.logging._
<span class="hljs-keyword">import</span> zio.logging.slf4j._


<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Slf4jAndCorrelationId</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">zio</span>.<span class="hljs-title">App</span> </span>{
  <span class="hljs-keyword">val</span> logFormat = <span class="hljs-string">"[correlation-id = %s] %s"</span>

  <span class="hljs-keyword">val</span> env =
    <span class="hljs-type">Slf4jLogger</span>.make{(context, message) =&gt; 
        <span class="hljs-keyword">val</span> correlationId = <span class="hljs-type">LogAnnotation</span>.<span class="hljs-type">CorrelationId</span>.render(
          context.get(<span class="hljs-type">LogAnnotation</span>.<span class="hljs-type">CorrelationId</span>)
        )
        logFormat.format(correlationId, message)
    }

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generateCorrelationId</span> </span>=
    <span class="hljs-type">Some</span>(java.util.<span class="hljs-type">UUID</span>.randomUUID())

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span></span>(args: <span class="hljs-type">List</span>[<span class="hljs-type">String</span>]) =
      (<span class="hljs-keyword">for</span> {
        fiber &lt;- log.locally(correlationId(<span class="hljs-string">"1234"</span>))(<span class="hljs-type">ZIO</span>.unit).fork
        _     &lt;- log.info(<span class="hljs-string">"info message without correlation id"</span>)
        _     &lt;- fiber.join
        _ &lt;- log.locally(correlationId(<span class="hljs-string">"1234111"</span>)) {
              log.info(<span class="hljs-string">"info message with correlation id"</span>) *&gt;
                log.throwable(<span class="hljs-string">"another info message with correlation id"</span>, <span class="hljs-keyword">new</span> <span class="hljs-type">RuntimeException</span>(<span class="hljs-string">"error message"</span>)).fork
            }
      } <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>).provideLayer(env)
}

</code></pre>
<p>Expected Console Output:</p>
<pre><code class="hljs"><span class="hljs-number">00</span>:<span class="hljs-number">27</span>:<span class="hljs-number">56.448</span> <span class="hljs-literal">[<span class="hljs-identifier">zio</span>-<span class="hljs-identifier">default</span>-<span class="hljs-identifier">async</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1920387277</span>]</span> INFO  zio.logging.Examples$ <span class="hljs-literal">[<span class="hljs-identifier">correlation</span>-<span class="hljs-identifier">id</span> = <span class="hljs-identifier">undefined</span>-<span class="hljs-identifier">correlation</span>-<span class="hljs-identifier">id</span>]</span> info message without correlation id
<span class="hljs-number">00</span>:<span class="hljs-number">27</span>:<span class="hljs-number">56.530</span> <span class="hljs-literal">[<span class="hljs-identifier">zio</span>-<span class="hljs-identifier">default</span>-<span class="hljs-identifier">async</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1920387277</span>]</span> INFO  zio.logging.Examples$ <span class="hljs-literal">[<span class="hljs-identifier">correlation</span>-<span class="hljs-identifier">id</span> = <span class="hljs-number">1234111</span>]</span> info message <span class="hljs-keyword">with</span> correlation id
<span class="hljs-number">00</span>:<span class="hljs-number">27</span>:<span class="hljs-number">56.546</span> <span class="hljs-literal">[<span class="hljs-identifier">zio</span>-<span class="hljs-identifier">default</span>-<span class="hljs-identifier">async</span>-<span class="hljs-number">4</span>-<span class="hljs-number">1920387277</span>]</span> ERROR zio.logging.Examples$ <span class="hljs-literal">[<span class="hljs-identifier">correlation</span>-<span class="hljs-identifier">id</span> = <span class="hljs-number">1234111</span>]</span> another info message <span class="hljs-keyword">with</span> correlation id
Fiber failed.
An unchecked error was produced.
java.lang.RuntimeException: error message
    at zio.logging.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Examples$</span>.</span></span><span class="hljs-constructor">$anonfun$run$6(Examples.<span class="hljs-params">scala</span>:26)</span>
    at zio.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ZIO$ZipRightFn</span>.</span></span>apply(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ZIO</span>.</span></span>scala:<span class="hljs-number">3368</span>)
    at zio.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ZIO$ZipRightFn</span>.</span></span>apply(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ZIO</span>.</span></span>scala:<span class="hljs-number">3365</span>)
    at zio.internal.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FiberContext</span>.</span></span>evaluate<span class="hljs-constructor">Now(FiberContext.<span class="hljs-params">scala</span>:815)</span>
    at zio.internal.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FiberContext</span>.</span></span><span class="hljs-constructor">$anonfun$fork$2(FiberContext.<span class="hljs-params">scala</span>:681)</span>
    at java.util.concurrent.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ThreadPoolExecutor</span>.</span></span>run<span class="hljs-constructor">Worker(ThreadPoolExecutor.<span class="hljs-params">java</span>:1142)</span>
    at java.util.concurrent.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ThreadPoolExecutor$Worker</span>.</span></span>run(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ThreadPoolExecutor</span>.</span></span>java:<span class="hljs-number">617</span>)
    at java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Thread</span>.</span></span>run(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Thread</span>.</span></span>java:<span class="hljs-number">745</span>)
No ZIO Trace available.
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 3/18/2020 by przemyslaw wierzbicki</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a></li><li><a href="#logger-interface">Logger Interface</a><ul class="toc-headings"><li><a href="#logger-context">Logger Context</a></li></ul></li><li><a href="#examples">Examples</a><ul class="toc-headings"><li><a href="#simple-console-log">Simple console log</a></li><li><a href="#logger-name-and-log-level">Logger Name and Log Level</a></li><li><a href="#slf4j-and-correlation-id">Slf4j and correlation id</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/zio-logging/" class="nav-home"><img src="/zio-logging/img/sidebar_brand2x.png" alt="ZIO logging"/></a><div><h5>GitHub</h5><a class="github-button" href="https://github.com/zio/zio-logging" data-icon="octicon-star" data-count-href="/zio/zio-logging/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div><div><h5>Chat with us on Discord</h5><a href="https://discord.gg/2ccFBr4"><img src="/zio-logging/img/discord.png" width="120" alt="discord"/></a></div></section><section class="copyright">Copyright © 2020 ZIO Maintainers</section></footer></div></body></html>